{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observe/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function isObject(data) {\r\n    return typeof data === 'object' && data !== null\r\n}\r\n","import { isObject } from '../util/index';\r\nclass Observer {\r\n    constructor(value) {\r\n        this.walk(value);\r\n    }\r\n    walk(data) {\r\n        let keys = Object.keys(data);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i];\r\n            let value = data[key];\r\n            defineReactive(data, key, value);\r\n        }\r\n    }\r\n}\r\nfunction defineReactive(data, key, value) {\r\n    observe(value)\r\n    Object.defineProperty(data, key, {\r\n        get() {\r\n            return value;\r\n        },\r\n        set(newValue) {\r\n            if (newValue === value) return;\r\n            observe(newValue);\r\n            console.log(\"值发生了改变\");\r\n            value = newValue;\r\n        }\r\n    })\r\n}\r\nexport function observe(data) {\r\n    const isObj = isObject(data);\r\n\r\n    if (!isObj) {\r\n        return\r\n    }\r\n    return new Observer(data);\r\n}","import { observe } from \"./observe/index\";\r\nexport function initSate(vm) {\r\n    const opts = vm.$options;\r\n    if (opts.props) {\r\n        initProps(vm);\r\n    }\r\n    if (opts.methods) {\r\n        initMethod(vm);\r\n    }\r\n    if (opts.data) {\r\n        initData(vm);\r\n    }\r\n    if (opts.computed) {\r\n        initComputed(vm);\r\n    }\r\n    if (opts.watch) {\r\n        initWatch(vm);\r\n    }\r\n}\r\n\r\nfunction initProps() { }\r\nfunction initMethod() { }\r\nfunction initData(vm) {\r\n    let data = vm.$options.data;\r\n    data = vm._data = typeof data === 'function' ? data.call(vm) : data;\r\n    observe(data);\r\n}\r\nfunction initComputed() { }\r\nfunction initWatch() { }","import { initSate } from \"./state\";\r\n\r\nexport function initMixin(Vue){\r\n    Vue.prototype._init = function (options){\r\n        const vm = this;\r\n        vm.$options = options;\r\n        initSate(vm);\r\n    }\r\n}","import {initMixin} from './init';\r\nfunction Vue(options){\r\n   this._init(options);\r\n}\r\ninitMixin(Vue);\r\nexport default Vue;"],"names":["isObject","data","Observer","value","walk","keys","Object","i","length","key","defineReactive","observe","defineProperty","get","set","newValue","console","log","isObj","initSate","vm","opts","$options","props","methods","initData","computed","watch","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;EAC3B,SAAO,QAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAA5C;EACH;;MCDKC;EACF,oBAAYC,KAAZ,EAAmB;EAAA;;EACf,SAAKC,IAAL,CAAUD,KAAV;EACH;;;;2BACIF,MAAM;EACP,UAAII,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYJ,IAAZ,CAAX;;EACA,WAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;EAClC,YAAIE,GAAG,GAAGJ,IAAI,CAACE,CAAD,CAAd;EACA,YAAIJ,KAAK,GAAGF,IAAI,CAACQ,GAAD,CAAhB;EACAC,QAAAA,cAAc,CAACT,IAAD,EAAOQ,GAAP,EAAYN,KAAZ,CAAd;EACH;EACJ;;;;;;EAEL,SAASO,cAAT,CAAwBT,IAAxB,EAA8BQ,GAA9B,EAAmCN,KAAnC,EAA0C;EACtCQ,EAAAA,OAAO,CAACR,KAAD,CAAP;EACAG,EAAAA,MAAM,CAACM,cAAP,CAAsBX,IAAtB,EAA4BQ,GAA5B,EAAiC;EAC7BI,IAAAA,GAD6B,iBACvB;EACF,aAAOV,KAAP;EACH,KAH4B;EAI7BW,IAAAA,GAJ6B,eAIzBC,QAJyB,EAIf;EACV,UAAIA,QAAQ,KAAKZ,KAAjB,EAAwB;EACxBQ,MAAAA,OAAO,CAACI,QAAD,CAAP;EACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;EACAd,MAAAA,KAAK,GAAGY,QAAR;EACH;EAT4B,GAAjC;EAWH;;EACM,SAASJ,OAAT,CAAiBV,IAAjB,EAAuB;EAC1B,MAAMiB,KAAK,GAAGlB,QAAQ,CAACC,IAAD,CAAtB;;EAEA,MAAI,CAACiB,KAAL,EAAY;EACR;EACH;;EACD,SAAO,IAAIhB,QAAJ,CAAaD,IAAb,CAAP;EACH;;EClCM,SAASkB,QAAT,CAAkBC,EAAlB,EAAsB;EACzB,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB;;EACA,MAAID,IAAI,CAACE,KAAT,EAAgB;;EAGhB,MAAIF,IAAI,CAACG,OAAT,EAAkB;;EAGlB,MAAIH,IAAI,CAACpB,IAAT,EAAe;EACXwB,IAAAA,QAAQ,CAACL,EAAD,CAAR;EACH;;EACD,MAAIC,IAAI,CAACK,QAAT,EAAmB;;EAGnB,MAAIL,IAAI,CAACM,KAAT,EAAgB;EAGnB;;EAID,SAASF,QAAT,CAAkBL,EAAlB,EAAsB;EAClB,MAAInB,IAAI,GAAGmB,EAAE,CAACE,QAAH,CAAYrB,IAAvB;EACAA,EAAAA,IAAI,GAAGmB,EAAE,CAACQ,KAAH,GAAW,OAAO3B,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAAC4B,IAAL,CAAUT,EAAV,CAA7B,GAA6CnB,IAA/D;EACAU,EAAAA,OAAO,CAACV,IAAD,CAAP;EACH;;ECxBM,SAAS6B,SAAT,CAAmBC,GAAnB,EAAuB;EAC1BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAkB;EACpC,QAAMd,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcY,OAAd;EACAf,IAAAA,QAAQ,CAACC,EAAD,CAAR;EACH,GAJD;EAKH;;ECPD,SAASW,GAAT,CAAaG,OAAb,EAAqB;EAClB,OAAKD,KAAL,CAAWC,OAAX;EACF;;EACDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}